(()=>{var G=class{constructor(t){this.t=t,this.i=10**this.t}h(t){return this.t<16?Math.round(t*this.i)/this.i:t}o(t,e){return this.h(t)+","+this.h(e)}},E=class{constructor(t,e){this.x=t,this.y=e}u(){return new E(-this.x,-this.y)}l(t=1){return this._(t/(this.M()||1/0))}g(t){return new E(this.x+t.x,this.y+t.y)}v(t){return new E(this.x-t.x,this.y-t.y)}_(t){return new E(this.x*t,this.y*t)}m(t){return this.x*t.x+this.y*t.y}M(){return Math.sqrt(this.x*this.x+this.y*this.y)}p(t){let e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}},k=class{constructor(t,e){this.C=t,this.L=e}},_=class{constructor(t,e){this.k=t,this.B=e}D(t){let e=this.k;this.B&&(e.unshift(e[e.length-1]),e.push(e[1]));let s=e.length;if(s===0)return[];let n=[new k(e[0])];return this.P(n,t,0,s-1,e[1].v(e[0]),e[s-2].v(e[s-1])),this.B&&(n.shift(),n.pop()),n}P(t,e,s,n,o,r){let a=this.k;if(n-s==1){let f=a[s],d=a[n],p=f.p(d)/3;return void this.R(t,[f,f.g(o.l(p)),d.g(r.l(p)),d])}let l=this.j(s,n),c,u=Math.max(e,e*e),h=!0;for(let f=0;f<=4;f++){let d=this.q(s,n,l,o,r),p=this.A(s,n,d,l);if(p.error<e&&h)return void this.R(t,d);if(c=p.index,p.error>=u)break;h=this.F(s,n,l,d),u=p.error}let i=a[c-1].v(a[c+1]);this.P(t,e,s,c,o,i),this.P(t,e,c,n,i.u(),r)}R(t,e){t[t.length-1].G=e[1].v(e[0]),t.push(new k(e[3],e[2].v(e[3])))}q(t,e,s,n,o){let r=1e-12,a=Math.abs,l=this.k,c=l[t],u=l[e],h=[[0,0],[0,0]],i=[0,0];for(let x=0,g=e-t+1;x<g;x++){let b=s[x],M=1-b,D=3*b*M,O=M*M*M,F=D*M,I=D*b,j=b*b*b,L=n.l(F),C=o.l(I),S=l[t+x].v(c._(O+F)).v(u._(I+j));h[0][0]+=L.m(L),h[0][1]+=L.m(C),h[1][0]=h[0][1],h[1][1]+=C.m(C),i[0]+=L.m(S),i[1]+=C.m(S)}let f=h[0][0]*h[1][1]-h[1][0]*h[0][1],d,p;if(a(f)>r){let x=h[0][0]*i[1]-h[1][0]*i[0];d=(i[0]*h[1][1]-i[1]*h[0][1])/f,p=x/f}else{let x=h[0][0]+h[0][1],g=h[1][0]+h[1][1];d=p=a(x)>r?i[0]/x:a(g)>r?i[1]/g:0}let m=u.p(c),y=r*m,P,w;if(d<y||p<y)d=p=m/3;else{let x=u.v(c);P=n.l(d),w=o.l(p),P.m(x)-w.m(x)>m*m&&(d=p=m/3,P=w=null)}return[c,c.g(P||n.l(d)),u.g(w||o.l(p)),u]}F(t,e,s,n){for(let o=t;o<=e;o++)s[o-t]=this.H(n,this.k[o],s[o-t]);for(let o=1,r=s.length;o<r;o++)if(s[o]<=s[o-1])return!1;return!0}H(t,e,s){let n=[],o=[];for(let i=0;i<=2;i++)n[i]=t[i+1].v(t[i])._(3);for(let i=0;i<=1;i++)o[i]=n[i+1].v(n[i])._(2);let r=this.I(3,t,s),a=this.I(2,n,s),l=this.I(1,o,s),c=r.v(e),u=a.m(a)+c.m(l);return(h=u)>=-112e-18&&h<=112e-18?s:s-c.m(a)/u;var h}I(t,e,s){let n=e.slice();for(let o=1;o<=t;o++)for(let r=0;r<=t-o;r++)n[r]=n[r]._(1-s).g(n[r+1]._(s));return n[0]}j(t,e){let s=[0];for(let n=t+1;n<=e;n++)s[n-t]=s[n-t-1]+this.k[n].p(this.k[n-1]);for(let n=1,o=e-t;n<=o;n++)s[n]/=s[o];return s}A(t,e,s,n){let o=Math.floor((e-t+1)/2),r=0;for(let a=t+1;a<e;a++){let l=this.I(3,s,n[a-t]).v(this.k[a]),c=l.x*l.x+l.y*l.y;c>=r&&(r=c,o=a)}return{error:r,index:o}}},A=(v,t={})=>((e,s,n)=>{let o=e.length,r=new G(n),a,l,c,u,h=!0,i=[],f=(d,p)=>{let m=d.C.x,y=d.C.y;if(h)i.push("M"+r.o(m,y)),h=!1;else{let P=m+(d.L?.x??0),w=y+(d.L?.y??0);if(P===m&&w===y&&c===a&&u===l){if(!p){let x=m-a,g=y-l;i.push(x===0?"v"+r.h(g):g===0?"h"+r.h(x):"l"+r.o(x,g))}}else i.push("c"+r.o(c-a,u-l)+" "+r.o(P-a,w-l)+" "+r.o(m-a,y-l))}a=m,l=y,c=m+(d.G?.x??0),u=y+(d.G?.y??0)};if(!o)return"";for(let d=0;d<o;d++)f(e[d]);return s&&o>0&&(f(e[0],!0),i.push("z")),i.join("")})(new _(v.map(e=>new E(e[0],e[1])),t.closed).D(t.tolerance??2.5),t.closed,t.precision??5);var T=class{smoothingPointCount;distanceThreshold;tolerance;precision;points=[];d="";lastNPointers=[];fixedPointIndex=0;fixedPath="";unfixedPath="";F=(t,...e)=>e.map((s,n)=>t[n]+s.toFixed(this.precision)).join("")+t[t.length-1];constructor(t){this.smoothingPointCount=t?.smoothingPointCount??4,this.distanceThreshold=t?.distanceThreshold??4,this.tolerance=t?.tolerance??2.5,this.precision=t?.precision??5}add(t){let{F:e,lastNPointers:s,points:n,fixedPointIndex:o}=this;if(s.unshift(t),s.length===1)return this.d=(this.fixedPath=e`M${t.x} ${t.y}`)+"v0",n.push([t.x,t.y]),this;s.length>this.smoothingPointCount&&s.pop();let r=s.reduce((h,i)=>h+i.x,0)/s.length,a=s.reduce((h,i)=>h+i.y,0)/s.length,[l,c]=n[n.length-1];if(Math.hypot(l-r,c-a)<this.distanceThreshold)return this;if(n.length>3){let[h,i]=n[n.length-3],[f,d]=n[n.length-2],p=Math.hypot(l-f,c-d)*.15,m=p/Math.hypot(f-h,d-i),y=p/Math.hypot(r-l,a-c);n.length-o>8&&Math.abs(Math.atan2(d-i,f-h)-Math.atan2(a-c,r-l))>.4&&this.end(),this.unfixedPath+=e`C${f+(f-h)*m} ${d+(d-i)*m} ${l+(l-r)*y} ${c+(c-a)*y} ${l} ${c}`,this.d=this.fixedPath+this.unfixedPath+e`L${r} ${a}`}return n.push([r,a]),this}end(){let{points:t,fixedPointIndex:e}=this;return e!==t.length-1&&(this.d=this.fixedPath+=A(t.slice(e),this).replace(/^M\d+(\.\d+)?[, ]\d+(\.\d+)?/,""),this.fixedPointIndex=t.length-1,this.unfixedPath=""),this}};var $=v=>v.target.closest("svg[data-fluentpath]");addEventListener("pointerdown",v=>{if(v.button!==0)return;let t=$(v);if(!t)return;let e=t.getCTM().a*visualViewport.scale,s=t.getScreenCTM().inverse(),n=i=>new DOMPoint(i.clientX,i.clientY).matrixTransform(s),o=new T({distanceThreshold:4/e,tolerance:.5/e,precision:e>2?1:0}).add(n(v)),r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",o.d);let a=i=>r.setAttribute("d",o.add(n(i)).d),l=i=>{h(),r.setAttribute("d",o.add(n(i)).end().d),r.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},c=i=>i.keyCode===27&&u(),u=()=>{h(),r.remove()},h=()=>{removeEventListener("pointerdown",u,!0),removeEventListener("pointermove",a),removeEventListener("pointerup",l,!0),removeEventListener("pointercancel",u,!0),removeEventListener("keydown",c)};addEventListener("pointerdown",u,!0),addEventListener("pointermove",a),addEventListener("pointerup",l,!0),addEventListener("pointercancel",u,!0),addEventListener("keydown",c),t.appendChild(r).dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0})),v.preventDefault()},{passive:!1});"GestureEvent"in self&&(addEventListener("touchmove",v=>v.touches.length===1&&$(v)&&v.preventDefault(),{passive:!1}),addEventListener("touchend",v=>$(v)&&v.preventDefault(),{passive:!1}));})();
