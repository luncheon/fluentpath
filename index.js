(()=>{var g=.16666666666666666,P=({x:e,y:n},{x:t,y:r},{x:s,y:o},{x:i,y:l})=>{let c=Math.hypot(s-t,o-r)*g,a=c/Math.hypot(t-e,r-n),d=c/Math.hypot(i-s,l-o);return[t+(t-e)*a,r+(r-n)*a,s+(s-i)*d,o+(o-l)*d,s,o]},f=(e,n,t,r,s)=>"C"+P(e,n,t,r).map(s).join(" "),w=e=>{let n;return t=>n=n===void 0?t:{x:n.x*(1-e)+t.x*e,y:n.y*(1-e)+t.y*e}},h=({precision:e=5,smooth:n=w(.75)}={})=>{let t="",r=[],s=10**e,o=i=>Math.round(i*s)/s;return(i,l)=>{let c=n(i);r.push(c);let a=r.length;if(a===1)return`${t=`M${o(c.x)} ${o(c.y)}`}v0`;if(a===2)return`${t}l${o(c.x-r[0].x)} ${o(c.y-r[0].y)}`;let d=r[a-2],m=r[a-3];a>4&&(t+=f(r[a-4],m,d,c,o));let p=t+f(m,d,c,i,o);return l?p+f(d,c,i,{x:i.x+i.x-c.x,y:i.y+i.y-c.y},o):p}};var y=e=>{let n=e.target.closest("svg[data-fluentpath]"),t={},r=n?.getAttribute("data-fluentpath");if(r)for(let s of r.split(";")??[]){let o=s.indexOf(":"),i=s.slice(0,o).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,l=>l[0]+l[2].toUpperCase());i&&(t[i]=+s.slice(o+1).trim())}return[n,t]},x=(()=>{let e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("stroke","none"),e.setAttribute("fill","red"),e.setAttribute("r","3"),e.setAttribute("opacity","0.2"),e.style.transition="opacity 8s ease-out",n=>{let t=e.cloneNode();return t.setAttribute("cx",n.x),t.setAttribute("cy",n.y),n.color&&t.setAttribute("fill",n.color),requestAnimationFrame(()=>t.setAttribute("opacity","0.04")),setTimeout(()=>t.remove(),16e3),t}})(),A=e=>{let n=e.getScreenCTM();if("GestureEvent"in self){let r="";for(let o=e.parentElement;o;o=o.parentElement){let i=getComputedStyle(o).transform;i&&i!=="none"&&(r=`${i} ${r}`)}let s=new DOMMatrixReadOnly(r);n.a*=s.a,n.d*=s.d}let t=n.inverse();return r=>new DOMPoint(r.clientX,r.clientY).matrixTransform(t)};addEventListener("pointerdown",e=>{if(e.button!==0)return;let[n,t]=y(e);if(!n)return;let r=document.getElementById("show-pointer-point").checked,s=A(n),o=document.createElementNS("http://www.w3.org/2000/svg","path"),i=h(t),l=u=>{let b=s(u);r&&n.appendChild(x({x:b.x,y:b.y,color:"blue"})),o.setAttribute("d",i(b))};l(e);let{clientX:c,clientY:a}=e,d=u=>{Math.hypot(c-u.clientX,a-u.clientY)<4||({clientX:c,clientY:a}=u,l(u))},m=u=>{E(),l(u),o.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},p=u=>u.keyCode===27&&v(),v=()=>{E(),o.remove()},E=()=>{removeEventListener("pointerdown",v,!0),removeEventListener("pointermove",d),removeEventListener("pointerup",m,!0),removeEventListener("pointercancel",v,!0),removeEventListener("keydown",p)};addEventListener("pointerdown",v,!0),addEventListener("pointermove",d),addEventListener("pointerup",m,!0),addEventListener("pointercancel",v,!0),addEventListener("keydown",p),n.appendChild(o).dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0})),e.preventDefault()},{passive:!1});"GestureEvent"in self&&(addEventListener("touchmove",e=>e.touches.length===1&&y(e)[0]&&e.preventDefault(),{passive:!1}),addEventListener("touchend",e=>y(e)[0]&&e.preventDefault(),{passive:!1}));})();
