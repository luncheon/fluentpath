(()=>{var A=class{constructor(t){this.t=t,this.i=10**this.t}h(t){return this.t<16?Math.round(t*this.i)/this.i:t}o(t,e){return this.h(t)+","+this.h(e)}},M=class{constructor(t,e){this.x=t,this.y=e}u(){return new M(-this.x,-this.y)}l(t=1){return this._(t/(this.M()||1/0))}g(t){return new M(this.x+t.x,this.y+t.y)}v(t){return new M(this.x-t.x,this.y-t.y)}_(t){return new M(this.x*t,this.y*t)}m(t){return this.x*t.x+this.y*t.y}M(){return Math.sqrt(this.x*this.x+this.y*this.y)}p(t){let e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}},C=class{constructor(t,e){this.C=t,this.L=e}},I=class{constructor(t,e){this.k=t,this.B=e}D(t){let e=this.k;this.B&&(e.unshift(e[e.length-1]),e.push(e[1]));let s=e.length;if(s===0)return[];let n=[new C(e[0])];return this.P(n,t,0,s-1,e[1].v(e[0]),e[s-2].v(e[s-1])),this.B&&(n.shift(),n.pop()),n}P(t,e,s,n,r,o){let i=this.k;if(n-s==1){let g=i[s],c=i[n],d=g.p(c)/3;return void this.R(t,[g,g.g(r.l(d)),c.g(o.l(d)),c])}let u=this.j(s,n),a,v=Math.max(e,e*e),l=!0;for(let g=0;g<=4;g++){let c=this.q(s,n,u,r,o),d=this.A(s,n,c,u);if(d.error<e&&l)return void this.R(t,c);if(a=d.index,d.error>=v)break;l=this.F(s,n,u,c),v=d.error}let h=i[a-1].v(i[a+1]);this.P(t,e,s,a,r,h),this.P(t,e,a,n,h.u(),o)}R(t,e){t[t.length-1].G=e[1].v(e[0]),t.push(new C(e[3],e[2].v(e[3])))}q(t,e,s,n,r){let o=1e-12,i=Math.abs,u=this.k,a=u[t],v=u[e],l=[[0,0],[0,0]],h=[0,0];for(let f=0,x=e-t+1;f<x;f++){let w=s[f],b=1-w,D=3*w*b,$=b*b*b,G=D*b,T=D*w,j=w*w*w,k=n.l(G),P=r.l(T),_=u[t+f].v(a._($+G)).v(v._(T+j));l[0][0]+=k.m(k),l[0][1]+=k.m(P),l[1][0]=l[0][1],l[1][1]+=P.m(P),h[0]+=k.m(_),h[1]+=P.m(_)}let g=l[0][0]*l[1][1]-l[1][0]*l[0][1],c,d;if(i(g)>o){let f=l[0][0]*h[1]-l[1][0]*h[0];c=(h[0]*l[1][1]-h[1]*l[0][1])/g,d=f/g}else{let f=l[0][0]+l[0][1],x=l[1][0]+l[1][1];c=d=i(f)>o?h[0]/f:i(x)>o?h[1]/x:0}let p=v.p(a),y=o*p,E,L;if(c<y||d<y)c=d=p/3;else{let f=v.v(a);E=n.l(c),L=r.l(d),E.m(f)-L.m(f)>p*p&&(c=d=p/3,E=L=null)}return[a,a.g(E||n.l(c)),v.g(L||r.l(d)),v]}F(t,e,s,n){for(let r=t;r<=e;r++)s[r-t]=this.H(n,this.k[r],s[r-t]);for(let r=1,o=s.length;r<o;r++)if(s[r]<=s[r-1])return!1;return!0}H(t,e,s){let n=[],r=[];for(let h=0;h<=2;h++)n[h]=t[h+1].v(t[h])._(3);for(let h=0;h<=1;h++)r[h]=n[h+1].v(n[h])._(2);let o=this.I(3,t,s),i=this.I(2,n,s),u=this.I(1,r,s),a=o.v(e),v=i.m(i)+a.m(u);return(l=v)>=-112e-18&&l<=112e-18?s:s-a.m(i)/v;var l}I(t,e,s){let n=e.slice();for(let r=1;r<=t;r++)for(let o=0;o<=t-r;o++)n[o]=n[o]._(1-s).g(n[o+1]._(s));return n[0]}j(t,e){let s=[0];for(let n=t+1;n<=e;n++)s[n-t]=s[n-t-1]+this.k[n].p(this.k[n-1]);for(let n=1,r=e-t;n<=r;n++)s[n]/=s[r];return s}A(t,e,s,n){let r=Math.floor((e-t+1)/2),o=0;for(let i=t+1;i<e;i++){let u=this.I(3,s,n[i-t]).v(this.k[i]),a=u.x*u.x+u.y*u.y;a>=o&&(o=a,r=i)}return{error:o,index:r}}},q=(m,t={})=>((e,s,n)=>{let r=e.length,o=new A(n),i,u,a,v,l=!0,h=[],g=(c,d)=>{let p=c.C.x,y=c.C.y;if(l)h.push("M"+o.o(p,y)),l=!1;else{let E=p+(c.L?.x??0),L=y+(c.L?.y??0);if(E===p&&L===y&&a===i&&v===u){if(!d){let f=p-i,x=y-u;h.push(f===0?"v"+o.h(x):x===0?"h"+o.h(f):"l"+o.o(f,x))}}else h.push("c"+o.o(a-i,v-u)+" "+o.o(E-i,L-u)+" "+o.o(p-i,y-u))}i=p,u=y,a=p+(c.G?.x??0),v=y+(c.G?.y??0)};if(!r)return"";for(let c=0;c<r;c++)g(e[c]);return s&&r>0&&(g(e[0],!0),h.push("z")),h.join("")})(new I(m.map(e=>new M(e[0],e[1])),t.closed).D(t.tolerance??2.5),t.closed,t.precision??5);var S=m=>m.target.closest("svg[data-fluentpath]");addEventListener("pointerdown",m=>{if(m.button!==0)return;let t=S(m);if(!t)return;let e=t.getCTM().a*visualViewport.scale,s=t.getScreenCTM().inverse(),n=p=>new DOMPoint(p.clientX,p.clientY).matrixTransform(s),r=4/e,o=n(m),i=[o],u=[[o.x,o.y]],a=`M${o.x} ${o.y}`,v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d",a);let l=p=>{i.unshift(n(p)),i.length===5&&i.pop();let y=i.reduce((x,w)=>x+w.x,0)/i.length,E=i.reduce((x,w)=>x+w.y,0)/i.length,[L,f]=u[u.length-1];Math.hypot(L-y,f-E)>r&&(v.setAttribute("d",a+=`L${y} ${E}`),u.push([y,E]))},h=p=>{d(),l(p),v.setAttribute("d",u.length===1?a+"v0":q(u,{tolerance:.5/e,precision:e>2?1:0})),v.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},g=p=>p.keyCode===27&&c(),c=()=>{d(),v.remove()},d=()=>{removeEventListener("pointerdown",c,!0),removeEventListener("pointermove",l),removeEventListener("pointerup",h,!0),removeEventListener("pointercancel",c,!0),removeEventListener("keydown",g)};addEventListener("pointerdown",c,!0),addEventListener("pointermove",l),addEventListener("pointerup",h,!0),addEventListener("pointercancel",c,!0),addEventListener("keydown",g),t.appendChild(v),v.dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0}))});"GestureEvent"in self&&(addEventListener("touchmove",m=>m.touches.length===1&&S(m)&&m.preventDefault(),{passive:!1}),addEventListener("touchend",m=>S(m)&&m.preventDefault(),{passive:!1}));})();
