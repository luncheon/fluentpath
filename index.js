(()=>{var F=class{constructor(t){this.t=t,this.i=10**this.t}h(t){return this.t<16?Math.round(t*this.i)/this.i:t}o(t,e){return this.h(t)+","+this.h(e)}},E=class{constructor(t,e){this.x=t,this.y=e}u(){return new E(-this.x,-this.y)}l(t=1){return this._(t/(this.M()||1/0))}g(t){return new E(this.x+t.x,this.y+t.y)}v(t){return new E(this.x-t.x,this.y-t.y)}_(t){return new E(this.x*t,this.y*t)}m(t){return this.x*t.x+this.y*t.y}M(){return Math.sqrt(this.x*this.x+this.y*this.y)}p(t){let e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},k=class{constructor(t,e){this.C=t,this.L=e}},G=class{constructor(t,e){this.k=t,this.B=e}D(t){let e=this.k;this.B&&(e.unshift(e[e.length-1]),e.push(e[1]));let n=e.length;if(n===0)return[];let s=[new k(e[0])];return this.P(s,t,0,n-1,e[1].v(e[0]),e[n-2].v(e[n-1])),this.B&&(s.shift(),s.pop()),s}P(t,e,n,s,r,o){let h=this.k;if(s-n==1){let p=h[n],c=h[s],v=p.p(c)/3;return void this.R(t,[p,p.g(r.l(v)),c.g(o.l(v)),c])}let d=this.j(n,s),a,u=Math.max(e,e*e),l=!0;for(let p=0;p<=4;p++){let c=this.q(n,s,d,r,o),v=this.A(n,s,c,d);if(v.error<e&&l)return void this.R(t,c);if(a=v.index,v.error>=u)break;l=this.F(n,s,d,c),u=v.error}let i=h[a-1].v(h[a+1]);this.P(t,e,n,a,r,i),this.P(t,e,a,s,i.u(),o)}R(t,e){t[t.length-1].G=e[1].v(e[0]),t.push(new k(e[3],e[2].v(e[3])))}q(t,e,n,s,r){let o=1e-12,h=Math.abs,d=this.k,a=d[t],u=d[e],l=[[0,0],[0,0]],i=[0,0];for(let g=0,w=e-t+1;g<w;g++){let b=n[g],P=1-b,_=3*b*P,O=P*P*P,D=_*P,S=_*b,q=b*b*b,L=s.l(D),C=r.l(S),A=d[t+g].v(a._(O+D)).v(u._(S+q));l[0][0]+=L.m(L),l[0][1]+=L.m(C),l[1][0]=l[0][1],l[1][1]+=C.m(C),i[0]+=L.m(A),i[1]+=C.m(A)}let p=l[0][0]*l[1][1]-l[1][0]*l[0][1],c,v;if(h(p)>o){let g=l[0][0]*i[1]-l[1][0]*i[0];c=(i[0]*l[1][1]-i[1]*l[0][1])/p,v=g/p}else{let g=l[0][0]+l[0][1],w=l[1][0]+l[1][1];c=v=h(g)>o?i[0]/g:h(w)>o?i[1]/w:0}let f=u.p(a),y=o*f,x,M;if(c<y||v<y)c=v=f/3;else{let g=u.v(a);x=s.l(c),M=r.l(v),x.m(g)-M.m(g)>f*f&&(c=v=f/3,x=M=null)}return[a,a.g(x||s.l(c)),u.g(M||r.l(v)),u]}F(t,e,n,s){for(let r=t;r<=e;r++)n[r-t]=this.H(s,this.k[r],n[r-t]);for(let r=1,o=n.length;r<o;r++)if(n[r]<=n[r-1])return!1;return!0}H(t,e,n){let s=[],r=[];for(let i=0;i<=2;i++)s[i]=t[i+1].v(t[i])._(3);for(let i=0;i<=1;i++)r[i]=s[i+1].v(s[i])._(2);let o=this.I(3,t,n),h=this.I(2,s,n),d=this.I(1,r,n),a=o.v(e),u=h.m(h)+a.m(d);return(l=u)>=-112e-18&&l<=112e-18?n:n-a.m(h)/u;var l}I(t,e,n){let s=e.slice();for(let r=1;r<=t;r++)for(let o=0;o<=t-r;o++)s[o]=s[o]._(1-n).g(s[o+1]._(n));return s[0]}j(t,e){let n=[0];for(let s=t+1;s<=e;s++)n[s-t]=n[s-t-1]+this.k[s].p(this.k[s-1]);for(let s=1,r=e-t;s<=r;s++)n[s]/=n[r];return n}A(t,e,n,s){let r=Math.floor((e-t+1)/2),o=0;for(let h=t+1;h<e;h++){let d=this.I(3,n,s[h-t]).v(this.k[h]),a=d.x*d.x+d.y*d.y;a>=o&&(o=a,r=h)}return{error:o,index:r}}},I=(m,t={})=>((e,n,s)=>{let r=e.length,o=new F(s),h,d,a,u,l=!0,i=[],p=(c,v)=>{let f=c.C.x,y=c.C.y;if(l)i.push("M"+o.o(f,y)),l=!1;else{let x=f+(c.L?.x??0),M=y+(c.L?.y??0);if(x===f&&M===y&&a===h&&u===d){if(!v){let g=f-h,w=y-d;i.push(g===0?"v"+o.h(w):w===0?"h"+o.h(g):"l"+o.o(g,w))}}else i.push("c"+o.o(a-h,u-d)+" "+o.o(x-h,M-d)+" "+o.o(f-h,y-d))}h=f,d=y,a=f+(c.G?.x??0),u=y+(c.G?.y??0)};if(!r)return"";for(let c=0;c<r;c++)p(e[c]);return n&&r>0&&(p(e[0],!0),i.push("z")),i.join("")})(new G(m.map(e=>new E(e[0],e[1])),t.closed).D(t.tolerance??2.5),t.closed,t.precision??5);var T=class{lastNPointers=[];points=[];smoothingPointCount;distanceThreshold;_d="";d="";constructor(t={}){this.smoothingPointCount=t.smoothingPointCount??4,this.distanceThreshold=t.distanceThreshold??4}add(t){let{lastNPointers:e,points:n}=this;if(e.unshift(t),e.length===1)this.d=`M${t.x} ${t.y}v0`,n.push([t.x,t.y]);else{e.length>this.smoothingPointCount&&e.pop();let s=e.reduce((a,u)=>a+u.x,0)/e.length,r=e.reduce((a,u)=>a+u.y,0)/e.length,[o,h]=n[n.length-1];if(Math.hypot(o-s,h-r)>this.distanceThreshold){if(n.length===1)this._d=`M${o} ${h}`;else if(n.length>3){let[a,u]=n[n.length-3],[l,i]=n[n.length-2],p=Math.atan2(i-u,l-a),c=Math.atan2(h-r,o-s),v=Math.hypot(o-l,h-i)*.15;this._d+=`C${l+v*Math.cos(p)} ${i+v*Math.sin(p)} ${o+v*Math.cos(c)} ${h+v*Math.sin(c)} ${o} ${h}`}this.d=this._d+`L${s} ${r}`,n.push([s,r])}}return this}};var $=m=>m.target.closest("svg[data-fluentpath]");addEventListener("pointerdown",m=>{if(m.button!==0)return;let t=$(m);if(!t)return;let e=t.getCTM().a*visualViewport.scale,n=t.getScreenCTM().inverse(),s=i=>new DOMPoint(i.clientX,i.clientY).matrixTransform(n),r=new T({distanceThreshold:4/e}).add(s(m)),o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",r.d);let h=i=>o.setAttribute("d",r.add(s(i)).d),d=i=>{l(),h(i);let p=o.getTotalLength();if(p!==0){let c=[],v=Math.max(.2,Math.min(8,p*.01));for(let y=0;y<p;y+=v){let{x,y:M}=o.getPointAtLength(y);c.push([x,M])}let f=o.getPointAtLength(p);c.push([f.x,f.y]),o.setAttribute("d",I(c,{tolerance:.5/e,precision:e>2?1:0}))}o.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},a=i=>i.keyCode===27&&u(),u=()=>{l(),o.remove()},l=()=>{removeEventListener("pointerdown",u,!0),removeEventListener("pointermove",h),removeEventListener("pointerup",d,!0),removeEventListener("pointercancel",u,!0),removeEventListener("keydown",a)};addEventListener("pointerdown",u,!0),addEventListener("pointermove",h),addEventListener("pointerup",d,!0),addEventListener("pointercancel",u,!0),addEventListener("keydown",a),t.appendChild(o),o.dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0}))});"GestureEvent"in self&&(addEventListener("touchmove",m=>m.touches.length===1&&$(m)&&m.preventDefault(),{passive:!1}),addEventListener("touchend",m=>$(m)&&m.preventDefault(),{passive:!1}));})();
