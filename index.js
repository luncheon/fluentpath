(()=>{var b=e=>{let n=e.getScreenCTM();if("GestureEvent"in self){let a="";for(let s=e.parentElement;s;s=s.parentElement){let r=getComputedStyle(s).transform;r&&r!=="none"&&(a=`${r} ${a}`)}let i=new DOMMatrixReadOnly(a);n.a*=i.a,n.d*=i.d}let t=n.inverse();return a=>new DOMPoint(a.clientX,a.clientY).matrixTransform(t)};var g=.16666666666666666,x=({x:e,y:n},{x:t,y:a},{x:i,y:s},{x:r,y:o})=>{let d=Math.hypot(i-t,s-a)*g,l=d/Math.hypot(t-e,a-n),c=d/Math.hypot(r-i,o-s);return[t+(t-e)*l,a+(a-n)*l,i+(i-r)*c,s+(s-o)*c,i,s]},v=(e,n,t,a,i,{x:s,y:r})=>{let o=x(e,n,t,a);return`c${i(o[0]-s)} ${i(o[1]-r)} ${i(o[2]-s)} ${i(o[3]-r)} ${i(o[4]-s)} ${i(o[5]-r)}`},w=e=>{let n;return t=>n=n===void 0?t:{x:n.x*(1-e)+t.x*e,y:n.y*(1-e)+t.y*e}},P=({precision:e=5,smooth:n=w(.75)}={})=>{let t="",a,i=[],s=10**e,r=o=>Math.round(o*s)/s;return(o,d)=>{let l=i.length,c=n(o),m=i[l-1],p=i[l-2],u=i[l-3];if(i.push(c),!m)return a=c,`${t=`M${r(c.x)} ${r(c.y)}`}v0`;if(!p)return d?`${t}l${r(o.x-m.x)} ${r(o.y-m.y)}`:`${t}l${r(c.x-m.x)} ${r(c.y-m.y)}`;u&&(t+=v(u,p,m,c,r,a),a=m);let E=t+v(p,m,c,o,r,a);return d?E+v(m,c,o,{x:o.x+o.x-c.x,y:o.y+o.y-c.y},r,c):E}};var f=!1,y=({pointerId:e,clientX:n,clientY:t},{distanceThreshold:a=0,onPointerMove:i,onPointerUp:s,onCancel:r})=>{if(f)return r?.(),()=>{};f=!0;let o=()=>{p(),r?.()},d=u=>{u.pointerId===e&&Math.hypot(n-u.clientX,t-u.clientY)>=a&&({clientX:n,clientY:t}=u,i(u))},l=u=>{u.pointerId===e&&(p(),s?.(u))},c=()=>{p(),r?.()},m=u=>{u.keyCode===27&&(p(),r?.())},p=()=>{f=!1,removeEventListener("pointerdown",o),removeEventListener("pointermove",d),removeEventListener("pointerup",l),removeEventListener("pointercancel",c),removeEventListener("keydown",m)};return addEventListener("pointerdown",o),addEventListener("pointermove",d),addEventListener("pointerup",l),addEventListener("pointercancel",c),addEventListener("keydown",m),p};var h=e=>{let n=e.target.closest("svg[data-fluentpath]"),t={},a=n?.getAttribute("data-fluentpath");if(a)for(let i of a.split(";")??[]){let s=i.indexOf(":"),r=i.slice(0,s).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,o=>o[0]+o[2].toUpperCase());r&&(t[r]=+i.slice(s+1).trim())}return[n,t]},S=(()=>{let e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("stroke","none"),e.setAttribute("fill","red"),e.setAttribute("r","3"),e.setAttribute("opacity","0.2"),e.style.transition="opacity 8s ease-out",n=>{let t=e.cloneNode();return t.setAttribute("cx",n.x),t.setAttribute("cy",n.y),n.color&&t.setAttribute("fill",n.color),requestAnimationFrame(()=>t.setAttribute("opacity","0.04")),setTimeout(()=>t.remove(),16e3),t}})();addEventListener("pointerdown",e=>{if(e.button!==0)return;let[n,t]=h(e);if(!n)return;let a=document.getElementById("show-pointer-point").checked,i=b(n),s=document.createElementNS("http://www.w3.org/2000/svg","path"),r=P(t),o=d=>{let l=i(d);a&&n.appendChild(S({x:l.x,y:l.y,color:"blue"})),s.setAttribute("d",r(l))};o(e),n.appendChild(s).dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0})),e.preventDefault(),y(e,{distanceThreshold:4,onPointerMove:o,onPointerUp:d=>{o(d),s.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},onCancel:()=>s.remove()})},{passive:!1});"GestureEvent"in self&&(addEventListener("touchmove",e=>e.touches.length===1&&h(e)[0]&&e.preventDefault(),{passive:!1}),addEventListener("touchend",e=>h(e)[0]&&e.preventDefault(),{passive:!1}));})();
