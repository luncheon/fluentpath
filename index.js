(()=>{var I=class{constructor(t){this.t=t,this.i=10**this.t}h(t){return this.t<16?Math.round(t*this.i)/this.i:t}o(t,e){return this.h(t)+","+this.h(e)}},P=class{constructor(t,e){this.x=t,this.y=e}u(){return new P(-this.x,-this.y)}l(t=1){return this._(t/(this.M()||1/0))}g(t){return new P(this.x+t.x,this.y+t.y)}v(t){return new P(this.x-t.x,this.y-t.y)}_(t){return new P(this.x*t,this.y*t)}m(t){return this.x*t.x+this.y*t.y}M(){return Math.sqrt(this.x*this.x+this.y*this.y)}p(t){let e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}},D=class{constructor(t,e){this.C=t,this.L=e}},q=class{constructor(t,e){this.k=t,this.B=e}D(t){let e=this.k;this.B&&(e.unshift(e[e.length-1]),e.push(e[1]));let s=e.length;if(s===0)return[];let n=[new D(e[0])];return this.P(n,t,0,s-1,e[1].v(e[0]),e[s-2].v(e[s-1])),this.B&&(n.shift(),n.pop()),n}P(t,e,s,n,o,r){let i=this.k;if(n-s==1){let y=i[s],l=i[n],f=y.p(l)/3;return void this.R(t,[y,y.g(o.l(f)),l.g(r.l(f)),l])}let h=this.j(s,n),u,v=Math.max(e,e*e),a=!0;for(let y=0;y<=4;y++){let l=this.q(s,n,h,o,r),f=this.A(s,n,l,h);if(f.error<e&&a)return void this.R(t,l);if(u=f.index,f.error>=v)break;a=this.F(s,n,h,l),v=f.error}let c=i[u-1].v(i[u+1]);this.P(t,e,s,u,o,c),this.P(t,e,u,n,c.u(),r)}R(t,e){t[t.length-1].G=e[1].v(e[0]),t.push(new D(e[3],e[2].v(e[3])))}q(t,e,s,n,o){let r=1e-12,i=Math.abs,h=this.k,u=h[t],v=h[e],a=[[0,0],[0,0]],c=[0,0];for(let p=0,L=e-t+1;p<L;p++){let M=s[p],w=1-M,b=3*M*w,$=w*w*w,C=b*w,A=b*M,k=M*M*M,S=n.l(C),T=o.l(A),_=h[t+p].v(u._($+C)).v(v._(A+k));a[0][0]+=S.m(S),a[0][1]+=S.m(T),a[1][0]=a[0][1],a[1][1]+=T.m(T),c[0]+=S.m(_),c[1]+=T.m(_)}let y=a[0][0]*a[1][1]-a[1][0]*a[0][1],l,f;if(i(y)>r){let p=a[0][0]*c[1]-a[1][0]*c[0];l=(c[0]*a[1][1]-c[1]*a[0][1])/y,f=p/y}else{let p=a[0][0]+a[0][1],L=a[1][0]+a[1][1];l=f=i(p)>r?c[0]/p:i(L)>r?c[1]/L:0}let d=v.p(u),m=r*d,x,E;if(l<m||f<m)l=f=d/3;else{let p=v.v(u);x=n.l(l),E=o.l(f),x.m(p)-E.m(p)>d*d&&(l=f=d/3,x=E=null)}return[u,u.g(x||n.l(l)),v.g(E||o.l(f)),v]}F(t,e,s,n){for(let o=t;o<=e;o++)s[o-t]=this.H(n,this.k[o],s[o-t]);for(let o=1,r=s.length;o<r;o++)if(s[o]<=s[o-1])return!1;return!0}H(t,e,s){let n=[],o=[];for(let c=0;c<=2;c++)n[c]=t[c+1].v(t[c])._(3);for(let c=0;c<=1;c++)o[c]=n[c+1].v(n[c])._(2);let r=this.I(3,t,s),i=this.I(2,n,s),h=this.I(1,o,s),u=r.v(e),v=i.m(i)+u.m(h);return(a=v)>=-112e-18&&a<=112e-18?s:s-u.m(i)/v;var a}I(t,e,s){let n=e.slice();for(let o=1;o<=t;o++)for(let r=0;r<=t-o;r++)n[r]=n[r]._(1-s).g(n[r+1]._(s));return n[0]}j(t,e){let s=[0];for(let n=t+1;n<=e;n++)s[n-t]=s[n-t-1]+this.k[n].p(this.k[n-1]);for(let n=1,o=e-t;n<=o;n++)s[n]/=s[o];return s}A(t,e,s,n){let o=Math.floor((e-t+1)/2),r=0;for(let i=t+1;i<e;i++){let h=this.I(3,s,n[i-t]).v(this.k[i]),u=h.x*h.x+h.y*h.y;u>=r&&(r=u,o=i)}return{error:r,index:o}}},j=(g,t={})=>((e,s,n)=>{let o=e.length,r=new I(n),i,h,u,v,a=!0,c=[],y=(l,f)=>{let d=l.C.x,m=l.C.y;if(a)c.push("M"+r.o(d,m)),a=!1;else{let x=d+(l.L?.x??0),E=m+(l.L?.y??0);if(x===d&&E===m&&u===i&&v===h){if(!f){let p=d-i,L=m-h;c.push(p===0?"v"+r.h(L):L===0?"h"+r.h(p):"l"+r.o(p,L))}}else c.push("c"+r.o(u-i,v-h)+" "+r.o(x-i,E-h)+" "+r.o(d-i,m-h))}i=d,h=m,u=d+(l.G?.x??0),v=m+(l.G?.y??0)};if(!o)return"";for(let l=0;l<o;l++)y(e[l]);return s&&o>0&&(y(e[0],!0),c.push("z")),c.join("")})(new q(g.map(e=>new P(e[0],e[1])),t.closed).D(t.tolerance??2.5),t.closed,t.precision??5);var G=g=>g.target.closest("svg[data-fluentpath]");addEventListener("pointerdown",g=>{if(g.button!==0)return;let t=G(g);if(!t)return;let e=t.getCTM().a*visualViewport.scale,s=t.getScreenCTM().inverse(),n=d=>new DOMPoint(d.clientX,d.clientY).matrixTransform(s),o=4/e,r=n(g),i=[r],h=[[r.x,r.y]],u=`M${r.x} ${r.y}v0`,v=document.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d",u);let a=d=>{i.unshift(n(d)),i.length===5&&i.pop();let m=i.reduce((M,w)=>M+w.x,0)/i.length,x=i.reduce((M,w)=>M+w.y,0)/i.length,[E,p]=h[h.length-1];if(Math.hypot(E-m,p-x)>o){if(h.length===1)v.setAttribute("d",u=`M${E} ${p}L${m} ${x}`);else if(h.length>3){let[M,w]=h[h.length-3],[b,$]=h[h.length-2],C=Math.atan2($-w,b-M),A=Math.atan2(p-x,E-m),k=Math.hypot(E-b,p-$)*.15;v.setAttribute("d",u+=`C${b+k*Math.cos(C)} ${$+k*Math.sin(C)} ${E+k*Math.cos(A)} ${p+k*Math.sin(A)} ${E} ${p}`)}h.push([m,x])}},c=d=>{if(f(),a(d),h.length>3){let m=[],x=v.getTotalLength(),E=Math.max(.2,Math.min(8,x*.01));for(let M=0;M<x;M+=E){let{x:w,y:b}=v.getPointAtLength(M);m.push([w,b])}let p=v.getPointAtLength(x);m.push([p.x,p.y]);let L=n(d);m.push([L.x,L.y]),u=j(m,{tolerance:.5/e,precision:e>2?1:0})}v.setAttribute("d",u),v.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},y=d=>d.keyCode===27&&l(),l=()=>{f(),v.remove()},f=()=>{removeEventListener("pointerdown",l,!0),removeEventListener("pointermove",a),removeEventListener("pointerup",c,!0),removeEventListener("pointercancel",l,!0),removeEventListener("keydown",y)};addEventListener("pointerdown",l,!0),addEventListener("pointermove",a),addEventListener("pointerup",c,!0),addEventListener("pointercancel",l,!0),addEventListener("keydown",y),t.appendChild(v),v.dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0}))});"GestureEvent"in self&&(addEventListener("touchmove",g=>g.touches.length===1&&G(g)&&g.preventDefault(),{passive:!1}),addEventListener("touchend",g=>G(g)&&g.preventDefault(),{passive:!1}));})();
