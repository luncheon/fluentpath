(()=>{var P=.16666666666666666,g=({x:e,y:n},{x:t,y:c},{x:r,y:i},{x:s,y:o})=>{let m=Math.hypot(r-t,i-c)*P,d=m/Math.hypot(t-e,c-n),a=m/Math.hypot(s-r,o-i);return[t+(t-e)*d,c+(c-n)*d,r+(r-s)*a,i+(i-o)*a,r,i]},f=(e,n,t,c,r,{x:i,y:s})=>{let o=g(e,n,t,c);return`c${r(o[0]-i)} ${r(o[1]-s)} ${r(o[2]-i)} ${r(o[3]-s)} ${r(o[4]-i)} ${r(o[5]-s)}`},w=e=>{let n;return t=>n=n===void 0?t:{x:n.x*(1-e)+t.x*e,y:n.y*(1-e)+t.y*e}},h=({precision:e=5,smooth:n=w(.75)}={})=>{let t="",c,r=[],i=10**e,s=o=>Math.round(o*i)/i;return(o,m)=>{let d=r.length,a=n(o),l=r[d-1],v=r[d-2],p=r[d-3];if(r.push(a),!l)return c=a,`${t=`M${s(a.x)} ${s(a.y)}`}v0`;if(!v)return m?`${t}l${s(o.x-l.x)} ${s(o.y-l.y)}`:`${t}l${s(a.x-l.x)} ${s(a.y-l.y)}`;p&&(t+=f(p,v,l,a,s,c),c=l);let y=t+f(v,l,a,o,s,c);return m?y+f(l,a,o,{x:o.x+o.x-a.x,y:o.y+o.y-a.y},s,a):y}};var E=e=>{let n=e.target.closest("svg[data-fluentpath]"),t={},c=n?.getAttribute("data-fluentpath");if(c)for(let r of c.split(";")??[]){let i=r.indexOf(":"),s=r.slice(0,i).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,o=>o[0]+o[2].toUpperCase());s&&(t[s]=+r.slice(i+1).trim())}return[n,t]},x=(()=>{let e=document.createElementNS("http://www.w3.org/2000/svg","circle");return e.setAttribute("stroke","none"),e.setAttribute("fill","red"),e.setAttribute("r","3"),e.setAttribute("opacity","0.2"),e.style.transition="opacity 8s ease-out",n=>{let t=e.cloneNode();return t.setAttribute("cx",n.x),t.setAttribute("cy",n.y),n.color&&t.setAttribute("fill",n.color),requestAnimationFrame(()=>t.setAttribute("opacity","0.04")),setTimeout(()=>t.remove(),16e3),t}})(),$=e=>{let n=e.getScreenCTM();if("GestureEvent"in self){let c="";for(let i=e.parentElement;i;i=i.parentElement){let s=getComputedStyle(i).transform;s&&s!=="none"&&(c=`${s} ${c}`)}let r=new DOMMatrixReadOnly(c);n.a*=r.a,n.d*=r.d}let t=n.inverse();return c=>new DOMPoint(c.clientX,c.clientY).matrixTransform(t)};addEventListener("pointerdown",e=>{if(e.button!==0)return;let[n,t]=E(e);if(!n)return;let c=document.getElementById("show-pointer-point").checked,r=$(n),i=document.createElementNS("http://www.w3.org/2000/svg","path"),s=h(t),o=u=>{let b=r(u);c&&n.appendChild(x({x:b.x,y:b.y,color:"blue"})),i.setAttribute("d",s(b))};o(e);let{clientX:m,clientY:d}=e,a=u=>{Math.hypot(m-u.clientX,d-u.clientY)<4||({clientX:m,clientY:d}=u,o(u))},l=u=>{y(),o(u),i.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},v=u=>u.keyCode===27&&p(),p=()=>{y(),i.remove()},y=()=>{removeEventListener("pointerdown",p,!0),removeEventListener("pointermove",a),removeEventListener("pointerup",l,!0),removeEventListener("pointercancel",p,!0),removeEventListener("keydown",v)};addEventListener("pointerdown",p,!0),addEventListener("pointermove",a),addEventListener("pointerup",l,!0),addEventListener("pointercancel",p,!0),addEventListener("keydown",v),n.appendChild(i).dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0})),e.preventDefault()},{passive:!1});"GestureEvent"in self&&(addEventListener("touchmove",e=>e.touches.length===1&&E(e)[0]&&e.preventDefault(),{passive:!1}),addEventListener("touchend",e=>E(e)[0]&&e.preventDefault(),{passive:!1}));})();
