(()=>{var F=class{constructor(t){this.t=t,this.i=10**this.t}h(t){return this.t<16?Math.round(t*this.i)/this.i:t}o(t,e){return this.h(t)+","+this.h(e)}},w=class{constructor(t,e){this.x=t,this.y=e}u(){return new w(-this.x,-this.y)}l(t=1){return this._(t/(this.M()||1/0))}g(t){return new w(this.x+t.x,this.y+t.y)}v(t){return new w(this.x-t.x,this.y-t.y)}_(t){return new w(this.x*t,this.y*t)}m(t){return this.x*t.x+this.y*t.y}M(){return Math.sqrt(this.x*this.x+this.y*this.y)}p(t){let e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},k=class{constructor(t,e){this.C=t,this.L=e}},_=class{constructor(t,e){this.k=t,this.B=e}D(t){let e=this.k;this.B&&(e.unshift(e[e.length-1]),e.push(e[1]));let n=e.length;if(n===0)return[];let s=[new k(e[0])];return this.P(s,t,0,n-1,e[1].v(e[0]),e[n-2].v(e[n-1])),this.B&&(s.shift(),s.pop()),s}P(t,e,n,s,r,o){let h=this.k;if(s-n==1){let m=h[n],c=h[s],p=m.p(c)/3;return void this.R(t,[m,m.g(r.l(p)),c.g(o.l(p)),c])}let d=this.j(n,s),a,u=Math.max(e,e*e),l=!0;for(let m=0;m<=4;m++){let c=this.q(n,s,d,r,o),p=this.A(n,s,c,d);if(p.error<e&&l)return void this.R(t,c);if(a=p.index,p.error>=u)break;l=this.F(n,s,d,c),u=p.error}let i=h[a-1].v(h[a+1]);this.P(t,e,n,a,r,i),this.P(t,e,a,s,i.u(),o)}R(t,e){t[t.length-1].G=e[1].v(e[0]),t.push(new k(e[3],e[2].v(e[3])))}q(t,e,n,s,r){let o=1e-12,h=Math.abs,d=this.k,a=d[t],u=d[e],l=[[0,0],[0,0]],i=[0,0];for(let f=0,x=e-t+1;f<x;f++){let M=n[f],P=1-M,$=3*M*P,q=P*P*P,A=$*P,D=$*M,V=M*M*M,L=s.l(A),C=r.l(D),G=d[t+f].v(a._(q+A)).v(u._(D+V));l[0][0]+=L.m(L),l[0][1]+=L.m(C),l[1][0]=l[0][1],l[1][1]+=C.m(C),i[0]+=L.m(G),i[1]+=C.m(G)}let m=l[0][0]*l[1][1]-l[1][0]*l[0][1],c,p;if(h(m)>o){let f=l[0][0]*i[1]-l[1][0]*i[0];c=(i[0]*l[1][1]-i[1]*l[0][1])/m,p=f/m}else{let f=l[0][0]+l[0][1],x=l[1][0]+l[1][1];c=p=h(f)>o?i[0]/f:h(x)>o?i[1]/x:0}let y=u.p(a),g=o*y,b,E;if(c<g||p<g)c=p=y/3;else{let f=u.v(a);b=s.l(c),E=r.l(p),b.m(f)-E.m(f)>y*y&&(c=p=y/3,b=E=null)}return[a,a.g(b||s.l(c)),u.g(E||r.l(p)),u]}F(t,e,n,s){for(let r=t;r<=e;r++)n[r-t]=this.H(s,this.k[r],n[r-t]);for(let r=1,o=n.length;r<o;r++)if(n[r]<=n[r-1])return!1;return!0}H(t,e,n){let s=[],r=[];for(let i=0;i<=2;i++)s[i]=t[i+1].v(t[i])._(3);for(let i=0;i<=1;i++)r[i]=s[i+1].v(s[i])._(2);let o=this.I(3,t,n),h=this.I(2,s,n),d=this.I(1,r,n),a=o.v(e),u=h.m(h)+a.m(d);return(l=u)>=-112e-18&&l<=112e-18?n:n-a.m(h)/u;var l}I(t,e,n){let s=e.slice();for(let r=1;r<=t;r++)for(let o=0;o<=t-r;o++)s[o]=s[o]._(1-n).g(s[o+1]._(n));return s[0]}j(t,e){let n=[0];for(let s=t+1;s<=e;s++)n[s-t]=n[s-t-1]+this.k[s].p(this.k[s-1]);for(let s=1,r=e-t;s<=r;s++)n[s]/=n[r];return n}A(t,e,n,s){let r=Math.floor((e-t+1)/2),o=0;for(let h=t+1;h<e;h++){let d=this.I(3,n,s[h-t]).v(this.k[h]),a=d.x*d.x+d.y*d.y;a>=o&&(o=a,r=h)}return{error:o,index:r}}},I=(v,t={})=>((e,n,s)=>{let r=e.length,o=new F(s),h,d,a,u,l=!0,i=[],m=(c,p)=>{let y=c.C.x,g=c.C.y;if(l)i.push("M"+o.o(y,g)),l=!1;else{let b=y+(c.L?.x??0),E=g+(c.L?.y??0);if(b===y&&E===g&&a===h&&u===d){if(!p){let f=y-h,x=g-d;i.push(f===0?"v"+o.h(x):x===0?"h"+o.h(f):"l"+o.o(f,x))}}else i.push("c"+o.o(a-h,u-d)+" "+o.o(b-h,E-d)+" "+o.o(y-h,g-d))}h=y,d=g,a=y+(c.G?.x??0),u=g+(c.G?.y??0)};if(!r)return"";for(let c=0;c<r;c++)m(e[c]);return n&&r>0&&(m(e[0],!0),i.push("z")),i.join("")})(new _(v.map(e=>new w(e[0],e[1])),t.closed).D(t.tolerance??2.5),t.closed,t.precision??5);var T=class{constructor(t,e){this.path=t;this.smoothingPointCount=e?.smoothingPointCount??4,this.distanceThreshold=e?.distanceThreshold??4,this.tolerance=e?.tolerance??2.5,this.precision=e?.precision??5}smoothingPointCount;distanceThreshold;tolerance;precision;lastNPointers=[];points=[];get d(){return this.path.getAttribute("d")??""}set d(t){this.path.setAttribute("d",t)}add(t){let{lastNPointers:e,points:n}=this;if(e.unshift(t),e.length===1)this.d=`M${t.x} ${t.y}v0`,n.push([t.x,t.y]);else{e.length>this.smoothingPointCount&&e.pop();let s=e.reduce((a,u)=>a+u.x,0)/e.length,r=e.reduce((a,u)=>a+u.y,0)/e.length,[o,h]=n[n.length-1];if(Math.hypot(o-s,h-r)>this.distanceThreshold){if(n.length>3){let[a,u]=n[n.length-3],[l,i]=n[n.length-2],m=Math.hypot(o-l,h-i)*.15,c=m/Math.hypot(l-a,i-u),p=m/Math.hypot(o-s,h-r);this.d+=`C${l+(l-a)*c} ${i+(i-u)*c} ${o+(o-s)*p} ${h+(h-r)*p} ${o} ${h}`}n.push([s,r])}}return this}end(){let{path:t,points:e}=this,n=t.getTotalLength();if(n>3){let s=[],r=Math.max(.2,Math.min(8,n*.01));for(let h=0;h<n;h+=r){let{x:d,y:a}=t.getPointAtLength(h);s.push([d,a])}let o=t.getPointAtLength(n);s.push([o.x,o.y]),s.push(e[e.length-1]),t.setAttribute("d",I(s,{tolerance:this.tolerance,precision:this.precision}))}return this}};var S=v=>v.target.closest("svg[data-fluentpath]");addEventListener("pointerdown",v=>{if(v.button!==0)return;let t=S(v);if(!t)return;let e=t.getCTM().a*visualViewport.scale,n=t.getScreenCTM().inverse(),s=i=>new DOMPoint(i.clientX,i.clientY).matrixTransform(n),r=document.createElementNS("http://www.w3.org/2000/svg","path"),o=new T(r,{distanceThreshold:4/e,tolerance:.5/e,precision:e>2?1:0}).add(s(v)),h=i=>o.add(s(i)),d=i=>{l(),o.add(s(i)).end(),r.dispatchEvent(new CustomEvent("fluentpath:drawend",{bubbles:!0}))},a=i=>i.keyCode===27&&u(),u=()=>{l(),r.remove()},l=()=>{removeEventListener("pointerdown",u,!0),removeEventListener("pointermove",h),removeEventListener("pointerup",d,!0),removeEventListener("pointercancel",u,!0),removeEventListener("keydown",a)};addEventListener("pointerdown",u,!0),addEventListener("pointermove",h),addEventListener("pointerup",d,!0),addEventListener("pointercancel",u,!0),addEventListener("keydown",a),t.appendChild(r).dispatchEvent(new CustomEvent("fluentpath:drawstart",{bubbles:!0})),v.preventDefault()},{passive:!1});"GestureEvent"in self&&(addEventListener("touchmove",v=>v.touches.length===1&&S(v)&&v.preventDefault(),{passive:!1}),addEventListener("touchend",v=>S(v)&&v.preventDefault(),{passive:!1}));})();
